{"version":3,"sources":["../../../src/composite/index.js"],"names":[],"mappings":";MACI,OAAO,EACP,SAAS,EACT,eAAe,EACf,WAAW;;;;AAJf,kBAAY,CAAC;AACT,aAAO,GAAG,OAAO,CAAC,SAAS,CAAC;AAC5B,eAAS,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,SAAS;AACpC,qBAAe,GAAG,OAAO,CAAC,UAAU,CAAC;AACrC,iBAAW,GAAG,OAAO,CAAC,UAAU,CAAC;;;AAGrC,YAAM,CAAC,OAAO,GAAG,SAAS,gBAAgB,CAAC,UAAU,EAAE;AACrD,YAAI,mBAAmB,GAAG,SAAS,CAAC,UAAU,EAAE,WAAW,EAAE,eAAe,CAAC,CAAC;;;;AAI9E,YAAI;AACF,iBAAO,CAAC,MAAM,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;SAChD,CAAC,OAAO,CAAC,EAAE;AACV,iBAAO,CAAC,MAAM,CAAC,mBAAmB,CAAC,UAAU,EAAE,mBAAmB,CAAC,kBAAkB,CAAC,CAAC;SACxF;;AAED,eAAO,OAAO,CAAC,MAAM,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAClD,SAAS,CAAC,mBAAmB,CAAC,IAAI,EAAE,mBAAmB,CAAC,SAAS,CAAC,CAAC;OACvE,CAAC","file":"src/composite/index.js","sourcesContent":["'use strict';\nvar angular = require('angular');\nvar composite = require('yaf').composite;\nvar createComposite = require('./create');\nvar createState = require('../state');\n\n// register composite using angular DI container\nmodule.exports = function angularComposite(definition) {\n  var compositeDefinition = composite(definition, createState, createComposite);\n\n  // try to get the module first\n  // this is the case when state is created for a structure entity like composite\n  try {\n    angular.module(compositeDefinition.moduleName);\n  } catch (e) {\n    angular.module(compositeDefinition.moduleName, compositeDefinition.moduleDependencies);\n  }\n\n  return angular.module(compositeDefinition.moduleName)\n    .directive(compositeDefinition.name, compositeDefinition.component);\n};\n"]}